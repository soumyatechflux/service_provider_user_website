import{U as b,D as c,C as u,F as C,Q as F,q as R,a1 as f}from"./index-BLDXZsNf.js";const p=async(r,e,m,t)=>{const d=b(c,"programComments");if(t){const o=u(c,"programs",e),a=await C(o);if(a.exists()){const s=a==null?void 0:a.data().totalFeedbacks,g=a==null?void 0:a.data().averageRating,n=s+1,l=(g*s+t)/n,w={...a.data(),totalFeedbacks:n,averageRating:l};await F(o,w)}}const i={studentId:r,programId:e,createdAt:R.now(),comment:m,rating:t??null};await f(d,i)};export{p as s};
