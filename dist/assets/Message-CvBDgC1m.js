import{r as n,j as e,B as f,T as c,C as d,D as x,Q as m}from"./index-BLDXZsNf.js";function h({id:l,isSender:t,isLast:r,createdAt:i,message:g}){const s=n.useRef(null);let o;return i instanceof Date?o=i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):i!=null?o=i.toDate().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):o="",n.useEffect(()=>{var a;r&&((a=s.current)==null||a.scrollIntoView({behavior:"smooth",block:"end",inline:"end"}))},[s,r]),n.useEffect(()=>{t||(async()=>{const u=d(x,"messages",l);await m(u,{read:!0})})()},[t,l]),e.jsxs(e.Fragment,{children:[e.jsx(f,{flex:1,alignItems:t?"flex-end":"flex-start",justifyContent:"center",display:"flex",flexDirection:"column",alignSelf:"stretch",height:"fit-content",children:e.jsxs(f,{bgcolor:t?"#226E9F":"#F8F8F8",width:"fit-content",pl:2.5,pr:1,py:1,my:.1,borderRadius:"15px",maxWidth:"450px",height:"fit-content",flexWrap:"wrap",children:[e.jsx(c,{noWrap:!1,fontSize:16,sx:{color:t?"#fff":"#000",width:"fit-content",marginLeft:"auto",marginRight:5,wordBreak:"break-all"},children:g}),e.jsx(c,{fontSize:10,sx:{marginLeft:"auto",width:"fit-content"},children:o})]})}),e.jsx("div",{ref:s})]})}const j=n.memo(h);export{j as default};
