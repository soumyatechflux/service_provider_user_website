import{n as v,r as L,l as E,A as S,o as B,j as t,k as c,P as F,T as n,B as l}from"./index-BLDXZsNf.js";import{s as I}from"./setStudentProgramFavorite-WRttFheY.js";import{C as D,a as z,b as P}from"./CardMedia-eCeaUfzP.js";function A({setPageShowed:j,program:e}){var f,C;const h=v();L.useEffect(()=>{e.id||h("/programs")},[e,h]);const s=E(),{userData:i}=L.useContext(S),{mutate:a}=B({onMutate:()=>{const x=s.getQueryData(["userData"]);return s.setQueryData(["userData"],u=>{const d=u.favoritePrograms;let o;return d.length?o=d.includes(e.id)?d.slice().filter(w=>w!==e.id):[...d,e.id]:o=[e.id],{...u,favoritePrograms:o}}),()=>s.setQueryData(["userData"],x)},mutationFn:()=>y()}),y=async()=>{await I(i.id,e.id),s.invalidateQueries({queryKey:["userData"]}),s.invalidateQueries({queryKey:["explorePrograms",i==null?void 0:i.id]})},b=(f=i==null?void 0:i.favoritePrograms)!=null&&f.length&&((C=i==null?void 0:i.favoritePrograms)!=null&&C.includes(e.id))?t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:t.jsx("path",{d:"M6.14963 19.1713C4.44636 20.0668 2.90407 18.9476 3.22957 17.0498L3.99423 12.5915L0.755079 9.43408C-0.622893 8.09089 -0.0350361 6.27823 1.87044 6.00135L6.34684 5.35089L8.34874 1.2946C9.20037 -0.431002 11.106 -0.432061 11.9581 1.2946L13.96 5.35089L18.4364 6.00135C20.3407 6.27806 20.9306 8.09007 19.5518 9.43408L16.3126 12.5915L17.0773 17.0498C17.4026 18.9464 15.8616 20.0673 14.1572 19.1713L10.1534 17.0664L6.14963 19.1713Z",fill:"#FF7E00"})}):t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",children:t.jsx("path",{d:"M6.14963 19.1713C4.44636 20.0668 2.90407 18.9476 3.22957 17.0498L3.99423 12.5915L0.755079 9.43408C-0.622893 8.09089 -0.0350361 6.27823 1.87044 6.00135L6.34684 5.35089L8.34874 1.2946C9.20037 -0.431002 11.106 -0.432061 11.9581 1.2946L13.96 5.35089L18.4364 6.00135C20.3407 6.27806 20.9306 8.09007 19.5518 9.43408L16.3126 12.5915L17.0773 17.0498C17.4026 18.9464 15.8616 20.0673 14.1572 19.1713L10.1534 17.0664L6.14963 19.1713ZM9.22844 15.0107C9.77849 14.7215 10.5263 14.7204 11.0784 15.0107L14.7783 16.9559L14.0717 12.836C13.9667 12.2235 14.1967 11.5119 14.6434 11.0765L17.6367 8.15877L13.5001 7.55768C12.8851 7.46832 12.2795 7.02965 12.0034 6.47029L10.1534 2.72187L8.30348 6.47029C8.02846 7.02755 7.4241 7.46799 6.80681 7.55768L2.67018 8.15877L5.66347 11.0765C6.10847 11.5103 6.3406 12.2211 6.23515 12.836L5.52853 16.9559L9.22844 15.0107Z",fill:"#FF7E00"})});return t.jsxs(D,{onClick:()=>{j(e.id)},sx:{display:"flex",flexDirection:"column",cursor:"pointer",width:"384px",borderRadius:"15px",padding:"0",".css-1i9wt8r-MuiCardContent-root:last-child":{padding:0}},children:[t.jsx(z,{sx:{height:180},image:e.image,title:"green iguana"}),t.jsxs(P,{sx:{padding:0,flex:1},children:[t.jsxs(c,{direction:"row",alignItems:"center",justifyContent:"space-between",pt:1.5,px:2,pb:1,children:[t.jsx(F,{onClick:x=>{x.stopPropagation(),a()},sx:{fontSize:22},children:b}),t.jsxs(c,{direction:"row",alignItems:"center",gap:1,children:[t.jsx(F,{sx:{fontSize:18},children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",children:t.jsx("path",{d:"M7.72751 0.779086C7.89978 0.257395 8.63774 0.257394 8.81001 0.779084L10.2205 5.05051C10.2976 5.28404 10.5158 5.44178 10.7618 5.44178H15.3064C15.8608 5.44178 16.0889 6.15306 15.6379 6.47548L11.9772 9.09247C11.7741 9.23761 11.6891 9.49793 11.7674 9.73491L13.1694 13.9806C13.3423 14.5041 12.7452 14.9437 12.2967 14.623L8.60025 11.9805C8.40198 11.8388 8.13554 11.8388 7.93727 11.9805L4.24085 14.623C3.79234 14.9437 3.19523 14.5041 3.36811 13.9806L4.77012 9.73491C4.84837 9.49793 4.76337 9.23761 4.56036 9.09247L0.899615 6.47548C0.448606 6.15306 0.676701 5.44178 1.2311 5.44178H5.77575C6.02168 5.44178 6.23988 5.28404 6.317 5.05051L7.72751 0.779086Z",fill:"#FF9F06"})})}),t.jsx(n,{sx:{color:"#004643"},fontSize:14,fontWeight:700,fontFamily:"Poppins",children:e.averageRating}),t.jsx(n,{fontSize:14,fontFamily:"Inter",children:`(${e.totalFeedbacks||0})`})]})]}),t.jsxs(l,{bgcolor:"#FEF4EB",pb:.5,px:2,pt:.1,flex:1,height:"100%",children:[t.jsxs(c,{direction:"column",gap:.5,mt:2,children:[t.jsx(n,{fontSize:16,fontWeight:600,fontFamily:"Inter",children:e.name}),t.jsx(n,{fontSize:12,fontWeight:300,fontFamily:"Inter",children:e.category})]}),t.jsx(n,{fontFamily:"Inter",fontSize:14,fontWeight:400,my:3,pr:3,children:e.description}),t.jsxs(c,{direction:"row",gap:1,flexWrap:"wrap",className:"mt-auto",children:[t.jsx(l,{bgcolor:"#D0EBFC",sx:{border:"1.5px solid",borderRadius:"20px",borderColor:"#6A9DBC"},px:1.5,py:.5,children:t.jsxs(n,{fontSize:12,fontWeight:400,fontFamily:"Inter",children:[e==null?void 0:e.duration," Hours"]})}),t.jsx(l,{bgcolor:"#D0EBFC",sx:{border:"1.5px solid",borderRadius:"20px",borderColor:"#6A9DBC"},px:1.5,py:.5,children:t.jsx(n,{fontSize:12,fontWeight:400,fontFamily:"Inter",children:"Completion Certificate"})}),t.jsx(l,{bgcolor:"#D0EBFC",sx:{border:"1.5px solid",borderRadius:"20px",borderColor:"#6A9DBC"},px:1.5,py:.5,children:t.jsx(n,{fontSize:12,fontWeight:400,fontFamily:"Inter",children:e==null?void 0:e.level})}),t.jsx(l,{bgcolor:"#D0EBFC",sx:{border:"1.5px solid",borderRadius:"20px",borderColor:"#6A9DBC"},px:1.5,py:.5,children:t.jsxs(n,{fontSize:12,fontWeight:400,fontFamily:"Inter",children:[e==null?void 0:e.expiry," Days"]})})]}),((e==null?void 0:e.discount)??0)>0&&t.jsxs("p",{className:"text-[#FF7E00] font-bold font-[Inter] mb-0 text-right",children:[e==null?void 0:e.discount,"% OFF!"]}),((e==null?void 0:e.discount)??0)>0?t.jsx("p",{className:"text-[#FF7E00] font-bold font-[Inter] mb-0 text-right",children:((e==null?void 0:e.price)??0)-((e==null?void 0:e.price)??0)*((e==null?void 0:e.discount)??0)/100===0?"FREE":`$${((e==null?void 0:e.price)??0)-((e==null?void 0:e.price)??0)*((e==null?void 0:e.discount)??0)/100}`}):t.jsx("p",{className:"text-[#000] font-semibold font-[Inter] mb-0 text-right",children:((e==null?void 0:e.price)??0)===0?"FREE":`$${e==null?void 0:e.price}`})]})]})]})}export{A as default};
